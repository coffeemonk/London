function initInfiniteScroll(e,n){var t=n.querySelector("link[rel=next]");if(t){var r=n.querySelector(".post-feed");if(r){var i=!1,o=!1,l=e.scrollY,s=e.innerHeight,c=n.documentElement.scrollHeight;e.addEventListener("scroll",v,{passive:!0}),e.addEventListener("resize",a),f()}}function u(){if(404===this.status)return e.removeEventListener("scroll",v),void e.removeEventListener("resize",a);this.response.querySelectorAll(".post-card").forEach((function(e){r.appendChild(e)}));var l=this.response.querySelector("link[rel=next]");l?t.href=l.href:(e.removeEventListener("scroll",v),e.removeEventListener("resize",a)),c=n.documentElement.scrollHeight,i=!1,o=!1}function d(){if(!o)if(l+s<=c-300)i=!1;else{o=!0;var n=new e.XMLHttpRequest;n.responseType="document",n.addEventListener("load",u),n.open("GET",t.href),n.send(null)}}function f(){i||e.requestAnimationFrame(d),i=!0}function v(){l=e.scrollY,f()}function a(){s=e.innerHeight,c=n.documentElement.scrollHeight,f()}}initInfiniteScroll(window,document);
//# sourceMappingURL=infinite-scroll.js.map