{"version":3,"sources":["comments.js"],"names":["coveUrl","customCss","document","createElement","id","getElementsByTagName","appendChild","spinnerSvg","reactionIcon","getParameterByName","e","t","window","location","href","replace","n","RegExp","exec","decodeURIComponent","coveAction","localStorage","coveLoginRedirect","removeItem","coveExists","Cove","commentForm","nameInput","commentInput","commentBlock","commentsCount","replyInput","cancelLink","commentTemplate","hasReactions","reactionTypes","newMessageAlert","container","getElementById","coveCommentCount","commentPlural","$","loadingMessage","setAttribute","cannotComment","requirePaid","isPaid","async","getComments","publication","contentId","memberId","encodeURIComponent","memberEmail","fetch","json","error","reaction_types","has_reactions","innerHTML","template_html","comments","length","hide","show","forEach","addComment","addForm","member","a","parentNode","insertBefore","nextSibling","listenForReplies","listenForLikes","listenForReactions","getElementsByClassName","Array","from","addEventListener","activateReply","toggleLike","querySelectorAll","submitReaction","coveInit","event","target","parentElement","removeChild","className","name","value","memberName","o","style","memberIdInput","preventDefault","submitComment","uuid","getCommentHTML","showReactions","reactions","member_reaction","createTextNode","parent","parentList","hasOwnProperty","r","i","c","nameMessage","FormData","method","body","comment","total_count","removeCancelLink","eval","closest","indexOf","parentComment","checkVisible","scrollIntoView","focus","getAttribute","cancelReply","getBoundingClientRect","Math","max","documentElement","clientHeight","innerHeight","bottom","top","removeEventListener","JSON","stringify","member_id","reaction","autoLoad","loginForm","adjustTextarea","split","rows","search"],"mappings":"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","file":"player.js"}