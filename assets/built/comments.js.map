{"version":3,"sources":["comments.js"],"names":["coveUrl","customCss","document","createElement","id","getElementsByTagName","appendChild","spinnerSvg","reactionIcon","getParameterByName","e","t","window","location","href","replace","n","RegExp","exec","decodeURIComponent","coveAction","localStorage","coveLoginRedirect","removeItem","coveExists","Cove","commentForm","nameInput","commentInput","commentBlock","commentsCount","replyInput","cancelLink","commentTemplate","hasReactions","reactionTypes","newMessageAlert","container","getElementById","coveCommentCount","commentPlural","$","loadingMessage","setAttribute","cannotComment","requirePaid","isPaid","async","getComments","publication","contentId","memberId","encodeURIComponent","memberEmail","fetch","json","error","reaction_types","has_reactions","innerHTML","template_html","comments","length","hide","show","forEach","addComment","addForm","member","a","parentNode","insertBefore","nextSibling","listenForReplies","listenForLikes","listenForReactions","getElementsByClassName","Array","from","addEventListener","activateReply","toggleLike","querySelectorAll","submitReaction","coveInit","event","target","parentElement","removeChild","className","name","o","style","memberIdInput","value","preventDefault","submitComment","uuid","getCommentHTML","showReactions","reactions","member_reaction","createTextNode","parent","parentList","hasOwnProperty","r","i","c","nameMessage","FormData","method","body","comment","total_count","removeCancelLink","eval","closest","indexOf","parentComment","checkVisible","scrollIntoView","focus","getAttribute","cancelReply","getBoundingClientRect","Math","max","documentElement","clientHeight","innerHeight","bottom","top","removeEventListener","JSON","stringify","member_id","reaction","autoLoad","loginForm","adjustTextarea","split","rows","search"],"mappings":"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","file":"player.js"}